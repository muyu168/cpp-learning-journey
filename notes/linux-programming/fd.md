1.文件描述符的基本概念
1.1、对于内核而言，所有打开的文件都由文件描述符引用。文件描述符是一个非负整数，当打开一个现存文件或创建一个新文件时，内核向进程返回一个文件描述符。当读写一个文件时，用 open 和 creat 返回的文件描述符标识该文件，将其作为参数传递给 read 和 write。

按照惯例，UNIX shell 使用文件描述符0与进程的标准输入相结合、文件描述符1与标准输出相结合、文件描述符2与标准错误输出相结合。STDIN_FILENO、STDOUT_FILENO、 STDERR_FILENO这几个宏代替了 0、1、2 这几个数。

1.2、文件描述符，这个数字在一个进程中表示一个特定的含义,当我们open一个文件时，操作系统在内存中构建了一些数据结构来表示这个动态文件，然后返回给应用程序一个数字作为文件描述符，这个数字就和我们内存中维护的这个动态文件的这些数据结构绑定上了，以后我们的应用程序如果想要操作这个动态文件，它只需要用这个文件描述符区分。

1.3、文件描述符的作用域是当前进程，超出当前进程，文件描述符就没有意义了。

open函数打开一个文件，打开成功返回一个文件描述符，打开失败返回-1。
2.linux文件操作步骤
2.1、在Linux中要操作一个文件，一般是先open打开一个文件，得到文件描述符，然后对文件进行读写操作(或其他操作)，最后是close关闭文件即可。

2.2、强调一点：我们对文件进行操作时，一定要先打开文件，只有操作成功后才能操作，如果打开失败，就不用进行后面的操作了，最后读写完成后，一定要关闭文件，否则会造成文件损坏。

2.3、文件平时是存放在块设备中的文件系统文件中的，我们把这种文件叫静态文件，当我们去open打开一个文件时，Linux内核做的操作包括：内核在进程中建立一个打开的文件的数据结构，记录下我们打开的这个文件；内核在内存中申请一段内存，并且将静态文件的内容从块设备中读取到内核中特定的地址管理存放(叫动态文件)。

2.4、打开文件后，以后对这个文件的读写操作，都是针对内存中的这一份动态文件的，而不是针对静态文件的。当我们对动态文件进行读写以后，此时内存中的动态文件和块设备文件中的静态文件就不同步了，当我们close关闭动态文件时，close内部内核将内存中的动态文件的内容去更新(同步)的块设备中的静态文件。

2.5、为什么是这样设计，不能直接对块设备直接操作。

块设备本身读写非常不灵活，是按块读写的。而内存是按字节单位操作的，并且可以随机操作，很灵活
